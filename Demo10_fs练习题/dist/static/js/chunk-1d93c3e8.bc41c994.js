(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1d93c3e8"],{"45be":function(t,e,r){},"742b":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"spu-container"},[r("el-card",{staticClass:"box-card"},[r("CategorySelect",{on:{getCategory:t.getCategory}})],1),r("el-card",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"box-card"},[r("el-button",{attrs:{type:"primary",icon:"el-icon-plus",disabled:""==t.category3Id||void 0==t.category3Id},on:{click:t.addSpuForm}},[t._v("添加SPU")]),r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.recordsData,border:""}},[r("el-table-column",{attrs:{prop:"id",label:"序号",width:"100"}}),r("el-table-column",{attrs:{prop:"spuName",label:"SPU名称",width:"180"}}),r("el-table-column",{attrs:{prop:"description",label:"SPU描述"}}),r("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("HintButtom",{attrs:{type:"success",icon:"el-icon-plus",title:"添加SKU"},on:{click:function(r){return t.addSkuForm(e.row)}}}),r("HintButtom",{attrs:{type:"warning",icon:"el-icon-edit",title:"编辑"},on:{click:function(r){return t.updateSpuFrom(e.row)}}}),r("HintButtom",{attrs:{type:"info",icon:"el-icon-view",title:"查看"},on:{click:function(r){return t.SeeSkuList(e.row)}}}),r("el-popconfirm",{attrs:{"confirm-button-text":"好的","cancel-button-text":"不用了",icon:"el-icon-info","icon-color":"red",title:"你确定要删除吗？"},on:{onConfirm:function(r){return t.deleteSpuForm(e.row)}}},[r("HintButtom",{attrs:{slot:"reference",type:"danger",icon:"el-icon-delete",title:"删除"},slot:"reference"})],1)]}}])})],1),r("el-pagination",{attrs:{"current-page":t.currentPageData.currentPage,"page-size":t.currentPageData.pageSize,background:"",layout:"prev, pager, next",total:t.currentPageData.total},on:{"update:currentPage":function(e){return t.$set(t.currentPageData,"currentPage",e)},"update:current-page":function(e){return t.$set(t.currentPageData,"currentPage",e)},"current-change":t.handleCurrentChange}})],1),r("SpuForm",t._b({ref:"spufrom",attrs:{title:t.SpuForm.title,visible:t.SpuForm.visible},on:{"update:visible":function(e){return t.$set(t.SpuForm,"visible",e)},getrecordsData:t.getrecordsData}},"SpuForm",t.SpuForm,!1)),r("SkuForm",t._b({ref:"skufrom",attrs:{title:t.SkuForm.title,visible:t.SkuForm.visible},on:{"update:visible":function(e){return t.$set(t.SkuForm,"visible",e)}}},"SkuForm",t.SkuForm,!1)),r("el-dialog",{attrs:{title:"SKU列表",visible:t.centerDialogVisible,width:"30%",center:""},on:{"update:visible":function(e){t.centerDialogVisible=e}}})],1)},i=[],s=r("5530"),o=(r("a4d3"),r("e01a"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-dialog",t._g(t._b({directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},"el-dialog",t.$attrs,!1),t.$listeners),[r("el-form",{attrs:{model:t.form}},[r("el-form-item",{attrs:{label:"SPU名称","label-width":t.formLabelWidth}},[r("el-input",{attrs:{placeholder:"请输入SPU名称",autocomplete:"off"},model:{value:t.form.spuName,callback:function(e){t.$set(t.form,"spuName",e)},expression:"form.spuName"}})],1),r("el-form-item",{attrs:{label:"品牌","label-width":t.formLabelWidth}},[r("el-select",{attrs:{placeholder:"请选择品牌"},model:{value:t.form.tmId,callback:function(e){t.$set(t.form,"tmId",e)},expression:"form.tmId"}},t._l(t.form.trademarkList,(function(t){return r("el-option",{key:t.id,attrs:{label:t.tmName,value:t.id}})})),1)],1),r("el-form-item",{attrs:{label:"SPU描述","label-width":t.formLabelWidth}},[r("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入SPU描述"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),r("el-form-item",{attrs:{label:"SPU图片","label-width":t.formLabelWidth}},[r("el-upload",{attrs:{action:t.action,"list-type":"picture-card","on-preview":t.handlePictureCardPreview,"on-remove":t.handleRemove,"on-success":t.handleAvatarSuccess,"file-list":t.form.spuImageList}},[r("i",{staticClass:"el-icon-plus"})]),r("el-dialog",{attrs:{visible:t.dialogVisible,"append-to-body":""},on:{"update:visible":function(e){t.dialogVisible=e}}},[r("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1),r("el-form-item",{attrs:{label:"销售属性","label-width":t.formLabelWidth}},[r("el-select",{attrs:{placeholder:"请选择基本销售属性"},model:{value:t.form.saleId,callback:function(e){t.$set(t.form,"saleId",e)},expression:"form.saleId"}},t._l(t.form.saleAttrList,(function(t){return r("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1),r("el-button",{staticStyle:{"margin-left":"5px"},attrs:{icon:"el-icon-plus",type:"primary",disabled:""==t.form.saleId},on:{click:t.addAttr}},[t._v("添加销售属性")]),r("el-table",{attrs:{border:"",data:t.form.spuSaleAttrList}},[r("el-table-column",{attrs:{prop:"id",label:"序号",width:"60"}}),r("el-table-column",{attrs:{prop:"saleAttrName",label:"属性名",width:"80"}}),r("el-table-column",{attrs:{prop:"spuSaleAttrValueList",label:"属性名称列表"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("Tag",t._b({},"Tag",e.row,!1,!0))]}}])}),r("el-table-column",{attrs:{prop:"spuSaleAttrValueList",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-popconfirm",{attrs:{"confirm-button-text":"好的","cancel-button-text":"不用了",icon:"el-icon-info","icon-color":"red",title:"确定删除吗？"},on:{onConfirm:function(r){return t.delAttr(e.row.id)}}},[r("el-button",{attrs:{slot:"reference",type:"danger"},slot:"reference"},[t._v("删除")])],1)]}}])})],1)],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:t.reset}},[t._v("重 置")]),r("el-button",{on:{click:function(e){return t.$emit("update:visible",!1)}}},[t._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.saveSpuForm()}}},[t._v("确 定")])],1)],1)}),l=[],n=r("b85c"),c=r("ade3");r("4de4"),r("d3b7"),r("b0c0");let u=(t=21)=>{let e="",r=crypto.getRandomValues(new Uint8Array(t));while(t--){let a=63&r[t];e+=a<36?a.toString(36):a<62?(a-26).toString(36).toUpperCase():a<63?"_":"-"}return e};var m={name:"SpuForm",data:function(){return{loading:!1,form:{id:"",spuName:"",tmId:"",description:"",trademarkList:[],saleId:"",saleAttrList:[],spuSaleAttrList:[],spuImageList:[]},action:"/prod-api/admin/product/fileUpload",formLabelWidth:"120px",dialogImageUrl:"",dialogVisible:!1}},props:["id","spuName","description","spuImageList","tmId","category3Id"],watch:{id:function(){this.reset()}},methods:{handleRemove:function(t,e){this.form.spuImageList=e},handlePictureCardPreview:function(t){this.dialogImageUrl=t.response.data,this.dialogVisible=!0},handleAvatarSuccess:function(t,e,r){this.form.spuImageList=r},delAttr:function(t){var e=this;this.form.saleId="",this.form.spuSaleAttrList=this.form.spuSaleAttrList.filter((function(r){return r.id!=t||(e.form.saleAttrList.push({id:t,name:r.saleAttrName}),!1)}))},addAttr:function(){var t=this,e="";this.form.saleAttrList=this.form.saleAttrList.filter((function(r){return r.id!=t.form.saleId||(e=r.name,!1)})),this.form.spuSaleAttrList.push({id:u(),saleAttrName:e,spuSaleAttrValueList:[]}),this.form.saleId=""},reset:function(){var t,e=this;this.loading=!0;var r=0;this.form=Object(s["a"])(Object(s["a"])({},this.form),{},(t={spuName:this.spuName,description:this.description,tmId:this.tmId,spuImageList:this.spuImageList,saleId:""},Object(c["a"])(t,"spuImageList",[]),Object(c["a"])(t,"spuSaleAttrList",[]),Object(c["a"])(t,"id",this.id),t)),this.$store.dispatch("spu/reqgetTrademarkList").then((function(t){e.form.trademarkList=t,r++,(e.form.id&&4==r||!e.form.id&&2==r)&&(e.loading=!1)})).catch((function(t){e.$message({type:"error",message:t}),e.form.trademarkList=[],e.loading=!1})),this.$store.dispatch("spu/reqgetbaseSaleAttrList").then((function(t){r++,(e.form.id&&4==r||!e.form.id&&2==r)&&(e.loading=!1),e.form.saleAttrList=t,e.form.id&&e.$store.dispatch("spu/reqgetSpuById",{spuId:e.form.id}).then((function(t){r++,(e.form.id&&4==r||!e.form.id&&2==r)&&(e.loading=!1),e.form.spuSaleAttrList=t.spuSaleAttrList,e.form.saleAttrList=e.form.saleAttrList.filter((function(e){var r,a=Object(n["a"])(t.spuSaleAttrList);try{for(a.s();!(r=a.n()).done;){var i=r.value;if(i.saleAttrName==e.name)return!1}}catch(s){a.e(s)}finally{a.f()}return!0}))})).catch((function(t){e.$message({type:"error",message:t}),e.loading=!1}))})).catch((function(t){e.$message({type:"error",message:t}),e.loading=!1,e.form.saleAttrList=[]})),this.form.id&&this.$store.dispatch("spu/reqgetspuImageList",{spuId:this.form.id}).then((function(t){r++,(e.form.id&&4==r||!e.form.id&&2==r)&&(e.loading=!1);var a,i=Object(n["a"])(t);try{for(i.s();!(a=i.n()).done;){var s=a.value;s.imgUrl&&e.form.spuImageList.push({response:{data:s.imgUrl},url:s.imgUrl})}}catch(o){i.e(o)}finally{i.f()}})).catch((function(t){e.$message({type:"error",message:t}),e.loading=!1}))},clear:function(){var t,e=this;this.form=Object(s["a"])(Object(s["a"])({},this.form),{},(t={spuName:"",description:"",tmId:"",spuImageList:[],saleId:""},Object(c["a"])(t,"spuImageList",[]),Object(c["a"])(t,"spuSaleAttrList",[]),Object(c["a"])(t,"id",""),t)),this.loading=!0;var r=0;this.$store.dispatch("spu/reqgetTrademarkList").then((function(t){e.form.trademarkList=t,r++,(e.form.id&&4==r||!e.form.id&&2==r)&&(e.loading=!1)})).catch((function(t){e.$message({type:"error",message:t}),e.form.trademarkList=[],e.loading=!1})),this.$store.dispatch("spu/reqgetbaseSaleAttrList").then((function(t){r++,(e.form.id&&4==r||!e.form.id&&2==r)&&(e.loading=!1),e.form.saleAttrList=t})).catch((function(t){e.$message({type:"error",message:t}),e.loading=!1,e.form.saleAttrList=[]}))},saveSpuForm:function(){var t,e=this,r=[],a=Object(n["a"])(this.form.spuImageList);try{for(a.s();!(t=a.n()).done;){var i=t.value;i.response&&r.push({imgUrl:i.response.data})}}catch(g){a.e(g)}finally{a.f()}var o=[];for(var l in this.form.spuSaleAttrList){var c=[];if(this.form.spuSaleAttrList[l]){var u,m=this.form.spuSaleAttrList[l].saleAttrName,f=Object(n["a"])(this.form.spuSaleAttrList[l].spuSaleAttrValueList);try{for(f.s();!(u=f.n()).done;){var d=u.value;c.push({baseSaleAttrId:l+1,saleAttrName:m,saleAttrValueName:d.saleAttrValueName})}}catch(g){f.e(g)}finally{f.f()}o.push({baseSaleAttrId:l+1,saleAttrName:m,spuSaleAttrValueList:c})}}var p={category3Id:this.category3Id,description:this.form.description,spuImageList:r,spuName:this.form.spuName,spuSaleAttrList:o,tmId:this.form.tmId};this.id?(p=Object(s["a"])(Object(s["a"])({},p),{},{id:this.id}),this.$store.dispatch("spu/requpdateSpuInfo",p).then((function(t){e.$message({type:"success",message:"操作成功"}),e.clear(),e.$emit("update:visible",!1),e.$emit("getrecordsData")})).catch((function(t){e.$message({type:"error",message:t})}))):this.$store.dispatch("spu/reqsaveSpuInfo",p).then((function(t){e.$message({type:"success",message:"操作成功"}),e.clear(),e.$emit("update:visible",!1),e.$emit("getrecordsData")})).catch((function(t){e.$message({type:"error",message:t})}))}}},f=m,d=r("2877"),p=Object(d["a"])(f,o,l,!1,null,null,null),g=p.exports,h=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-dialog",t._g(t._b({},"el-dialog",t.$attrs,!1),t.$listeners),[r("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules}},[r("el-form-item",{attrs:{label:"SPU名称","label-width":"120px"}},[r("el-input",{attrs:{disabled:""},model:{value:t.form.spuName,callback:function(e){t.$set(t.form,"spuName",e)},expression:"form.spuName"}})],1),r("el-form-item",{attrs:{prop:"skuName",label:"SKU名称","label-width":"120px"}},[r("el-input",{model:{value:t.form.skuName,callback:function(e){t.$set(t.form,"skuName",e)},expression:"form.skuName"}})],1),r("el-form-item",{attrs:{label:"价格(元)","label-width":"120px"}},[r("el-input",{model:{value:t.form.skuPrice,callback:function(e){t.$set(t.form,"skuPrice",t._n(e))},expression:"form.skuPrice"}})],1),r("el-form-item",{attrs:{label:"重量(千克)","label-width":"120px"}},[r("el-input",{model:{value:t.form.skuWeight,callback:function(e){t.$set(t.form,"skuWeight",t._n(e))},expression:"form.skuWeight"}})],1),r("el-form-item",{attrs:{label:"规则描述","label-width":"120px"}},[r("el-input",{attrs:{type:"textarea",rows:"3"},model:{value:t.form.skuDescribe,callback:function(e){t.$set(t.form,"skuDescribe",e)},expression:"form.skuDescribe"}})],1),r("el-form-item",{attrs:{label:"平台属性","label-width":"120px"}},[r("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},t._l(t.form.AttrInfoList,(function(e){return r("el-form-item",{key:e.id,attrs:{inline:!0,label:e.attrName,"label-width":"80px"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.isSelect,callback:function(r){t.$set(e,"isSelect",r)},expression:"AttrInfo.isSelect"}},t._l(e.attrValueList,(function(t){return r("el-option",{key:t.id,attrs:{label:t.valueName,value:t.valueName}})})),1)],1)})),1)],1),r("el-form-item",{attrs:{label:"销售属性","label-width":"120px"}},[r("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},t._l(t.form.SaleAttrList,(function(e){return r("el-form-item",{key:e.id,attrs:{inline:!0,label:e.saleAttrName,"label-width":"80px"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.isSelect,callback:function(r){t.$set(e,"isSelect",r)},expression:"SaleAttr.isSelect"}},t._l(e.spuSaleAttrValueList,(function(t){return r("el-option",{key:t.id,attrs:{label:t.saleAttrValueName,value:t.saleAttrValueName}})})),1)],1)})),1)],1),r("el-form-item",{attrs:{label:"图片列表","label-width":"120px"}},[r("el-table",{ref:"multipleTable",attrs:{border:"",data:t.form.ImageList},on:{"selection-change":t.handleSelectionChange}},[r("el-table-column",{attrs:{type:"selection",width:"55"}}),r("el-table-column",{attrs:{prop:"imgUrl",label:"图片"},scopedSlots:t._u([{key:"default",fn:function(t){return[r("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.row.imgUrl,lazy:""}})]}}])}),r("el-table-column",{attrs:{prop:"imgName",label:"名称"}}),r("el-table-column",{attrs:{prop:"",label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{type:e.row.isDefault?"success":""},on:{click:function(r){return t.setImgDefault(e.row)}}},[t._v("设为默认")])]}}])})],1)],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){return t.$emit("update:visible",!1)}}},[t._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:t.saveSkuForm}},[t._v("确 定")])],1)],1)},b=[],v=r("1da1"),S=(r("96cf"),r("159b"),{name:"SkuForm",data:function(){var t=function(t,e,r){e&&""!=e?r():r(new Error("SKU名称是必填选项"))};return{form:{ImageList:[],SaleAttrList:[],AttrInfoList:[],spuName:this.spuName,skuName:"",skuPrice:"",skuWeight:"",skuDescribe:"",category3Id:""},multipleSelection:[],rules:{skuName:[{required:!0,trigger:"change",validator:t}]}}},watch:{spuName:function(){this.form.spuName=this.spuName}},props:["spuName"],methods:{saveSkuForm:function(){var t=this;this.$refs.form.validate((function(e){if(e){var r,a=[],i="",s=Object(n["a"])(t.form.ImageList);try{for(s.s();!(r=s.n()).done;){var o=r.value;o.isDefault&&(i=o.imgUrl),o.isSelect&&a.push({imgUrl:o.imgUrl,isDefault:o.isDefault,imgName:o.imgName,spuImgId:o.id})}}catch($){s.e($)}finally{s.f()}var l,c=[],u=Object(n["a"])(t.form.SaleAttrList);try{for(u.s();!(l=u.n()).done;){var m=l.value;if(""!=m.isSelect){var f,d="",p=Object(n["a"])(m.spuSaleAttrValueList);try{for(p.s();!(f=p.n()).done;){var g=f.value;if(g.saleAttrValueName==m.isSelect){d=g.id;break}}}catch($){p.e($)}finally{p.f()}c.push({saleAttrId:m.id,saleAttrValueId:d})}}}catch($){u.e($)}finally{u.f()}var h,b=[],v=Object(n["a"])(t.form.AttrInfoList);try{for(v.s();!(h=v.n()).done;){var S=h.value;if(""!=S.isSelect){var y,I="",L=Object(n["a"])(S.attrValueList);try{for(L.s();!(y=L.n()).done;){var k=y.value;if(k.valueName==S.isSelect){I=k.id;break}}}catch($){L.e($)}finally{L.f()}b.push({valueId:I,attrId:S.id})}}}catch($){v.e($)}finally{v.f()}var A={category3Id:t.form.category3Id,price:t.form.price,skuAttrValueList:b,skuImageList:a,skuSaleAttrValueList:c,skuDefaultImg:i,skuDesc:t.form.skuDescribe,skuName:t.form.skuName,weight:t.form.skuWeight};t.$store.dispatch("spu/reqsaveSkuInfo",A).then((function(e){t.$message({type:"success",message:"添加成功"}),t.$emit("update:visible",!1)})).catch((function(e){t.$message({type:"error",message:e})}))}}))},handleSelectionChange:function(t){this.form.ImageList.forEach((function(e){var r,a=!0,i=Object(n["a"])(t);try{for(i.s();!(r=i.n()).done;){var s=r.value;if(s.id==e.id){e.isSelect=!0,a=!1;break}}}catch(o){i.e(o)}finally{i.f()}a&&(e.isSelect=!1,e.isDefault=!1)})),this.multipleSelection=t},toggleSelection:function(t){var e=this;t?t.forEach((function(t){e.$refs.multipleTable.toggleRowSelection(t)})):this.$refs.multipleTable.clearSelection()},setImgDefault:function(t){var e=this,r=t.id;this.form.ImageList.forEach((function(a){a.id==r?(a.isDefault=!0,0==a.isSelect&&e.toggleSelection([t])):a.isDefault=!1}))},getnanoid:function(){return u()},clear:function(){this.form={ImageList:[],SaleAttrList:[],AttrInfoList:[]}},getData:function(t,e,r,a){var i=this;return Object(v["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return i.$refs.form&&i.$refs.form.resetFields(),i.form.category3Id=a,s.next=4,i.getImageList(t);case 4:return i.form.ImageList=s.sent,s.next=7,i.getSaleAttrList(t);case 7:return i.form.SaleAttrList=s.sent,s.next=10,i.getAttrInfoList(e,r,a);case 10:i.form.AttrInfoList=s.sent;case 11:case"end":return s.stop()}}),s)})))()},getImageList:function(t){var e=this;return new Promise((function(r,a){e.$store.dispatch("spu/reqgetspuImageList",{spuId:t}).then((function(t){t.forEach((function(t){t.isSelect="",t.isDefault=""})),r(t)})).catch((function(t){e.$message({type:"error",message:t}),a(t)}))}))},getSaleAttrList:function(t){var e=this;return new Promise((function(r,a){e.$store.dispatch("spu/reqspuSaleAttrList",{spuId:t}).then((function(t){t.forEach((function(t){t.isSelect=""})),r(t)})).catch((function(t){e.$message({type:"error",message:t}),a(t)}))}))},getAttrInfoList:function(t,e,r){var a=this;return new Promise((function(i,s){a.$store.dispatch("spu/reqattrInfoList",{category1Id:t,category2Id:e,category3Id:r}).then((function(t){t.forEach((function(t){t.isSelect=""})),i(t)})).catch((function(t){a.$message({type:"error",message:t}),s(t)}))}))}}}),y=S,I=Object(d["a"])(y,h,b,!1,null,null,null),L=I.exports,k={name:"Spu",data:function(){return{SpuForm:{title:"",visible:!1,id:"",spuName:"",tmId:"",description:"",category3Id:""},SkuForm:{title:"",visible:!1,spuName:""},category1Id:"",category2Id:"",category3Id:"",currentPageData:{currentPage:1,pageSize:3,total:0},recordsData:[],loading:!1,centerDialogVisible:!1}},components:{SpuForm:g,SkuForm:L},methods:{getCategory:function(t,e,r){this.category1Id=t,this.category2Id=e,this.category3Id=r,""!=r?this.getrecordsData():this.clearrecordsData()},getrecordsData:function(){var t=this;this.loading=!0;var e={category3Id:this.category3Id};this.$store.dispatch("spu/reqgetspuInfoList",{page:this.currentPageData.currentPage,limit:this.currentPageData.pageSize,req:e}).then((function(e){t.loading=!1,t.currentPageData.total=e.total,t.recordsData=e.records})).catch((function(e){t.loading=!1,t.$message({type:"error",message:e})}))},clearrecordsData:function(){this.recordsData=[],this.currentPageData.currentPage=1,this.currentPageData.total=0},addSpuForm:function(){this.SpuForm=Object(s["a"])(Object(s["a"])({},this.SpuForm),{},{title:"新增SPU",visible:!0,id:void 0,spuName:"",tmId:"",description:"",category3Id:this.category3Id}),this.$refs.spufrom.reset()},updateSpuFrom:function(t){var e=t.id,r=t.spuName,a=t.description,i=t.spuImageList,o=t.tmId,l=t.category3Id;this.SpuForm=Object(s["a"])(Object(s["a"])({},this.SpuForm),{},{title:"修改SPU",visible:!0,id:e,spuName:r,description:a,tmId:o,spuImageList:i||[],category3Id:l}),this.$refs.spufrom.reset()},deleteSpuForm:function(t){var e=this,r=t.id;this.$store.dispatch("spu/reqdeleteSpuInfo",{spuId:r}).then((function(t){e.$message({type:"success",message:"删除成功"}),e.getrecordsData()})).catch((function(t){e.$message({type:"error",message:t})}))},addSkuForm:function(t){var e=t.id,r=t.spuName;this.SkuForm={visible:!0,title:"添加SKU",spuName:r},this.$refs.skufrom.clear(),this.$refs.skufrom.getData(e,this.category1Id,this.category2Id,this.category3Id)},handleCurrentChange:function(t){this.currentPageData.currentPage=t,this.getrecordsData()},SeeSkuList:function(t){console.log(t),this.centerDialogVisible=!0}}},A=k,$=(r("8597"),Object(d["a"])(A,a,i,!1,null,"ac3147e4",null));e["default"]=$.exports},8597:function(t,e,r){"use strict";r("45be")},b85c:function(t,e,r){"use strict";r.d(e,"a",(function(){return s}));r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0"),r("fb6a"),r("b0c0"),r("a630"),r("ac1f"),r("00b4");function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,a=new Array(e);r<e;r++)a[r]=t[r];return a}function i(t,e){if(t){if("string"===typeof t)return a(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(t,e):void 0}}function s(t,e){var r="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=i(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var a=0,s=function(){};return{s:s,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,n=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return l=t.done,t},e:function(t){n=!0,o=t},f:function(){try{l||null==r["return"]||r["return"]()}finally{if(n)throw o}}}}}}]);